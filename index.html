<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¼¹å¼¹å ‚ç‰©å“å‡çº§æ¶ˆè€—è®¡ç®—å™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #ff7e5f, #feb47b);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            min-width: 320px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
            overflow-x: auto;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            display: flex;
            flex-wrap: wrap;
            min-height: 600px;
        }
        
        .calculator-section {
            flex: 1;
            min-width: 350px;
            padding: 30px;
            background: #f8f9fa;
        }
        
        .data-section {
            flex: 2;
            min-width: 500px;
            padding: 30px;
            background: white;
            border-left: 3px solid #eee;
            max-height: 800px;
            overflow-y: auto;
            overflow-x: auto;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        select, input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        select:focus, input:focus {
            outline: none;
            border-color: #ff7e5f;
        }
        
        .btn {
            background: linear-gradient(135deg, #ff7e5f, #feb47b);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            transition: transform 0.2s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        .result {
            margin-top: 25px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border-left: 5px solid #ff7e5f;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .result h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .materials-list {
            margin: 15px 0;
        }
        
        .material-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .material-name {
            font-weight: bold;
        }
        
        .material-amount {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .system-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }
        
        .level-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 14px;
            min-width: 600px;
        }
        
        .level-table th, .level-table td {
            padding: 8px;
            text-align: center;
            border: 1px solid #ddd;
        }
        
        .level-table th {
            background: #34495e;
            color: white;
        }
        
        .level-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .level-table tr:hover {
            background: #e9ecef;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            background: #2c3e50;
            color: white;
            margin-top: 20px;
        }
        
        .system-category {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
        }
        
        .system-category h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px solid #ddd;
        }

        .consumption-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }
        
        .consumption-info h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .synthesis-formula {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #3498db;
        }
        
        .synthesis-formula h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .formula-item {
            margin: 8px 0;
            padding: 5px 0;
            border-bottom: 1px dashed #ddd;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .content {
                flex-direction: column;
            }
            
            .data-section {
                border-left: none;
                border-top: 3px solid #eee;
                min-width: 100%;
            }
            
            .calculator-section {
                min-width: 100%;
            }
            
            .level-table {
                font-size: 12px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .header p {
                font-size: 1em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ® å¼¹å¼¹å ‚ç‰©å“å‡çº§æ¶ˆè€—è®¡ç®—å™¨</h1>
            <p>é€‰æ‹©ç³»ç»Ÿå’Œè¾“å…¥ç­‰çº§ï¼Œå¿«é€Ÿè®¡ç®—å‡çº§æ‰€éœ€ææ–™</p>
        </div>
        
        <div class="content">
            <!-- è®¡ç®—å™¨éƒ¨åˆ† -->
            <div class="calculator-section">
                <h2>ææ–™è®¡ç®—</h2>
                <div class="form-group">
                    <label for="systemCategory">é€‰æ‹©ç³»ç»Ÿåˆ†ç±»ï¼š</label>
                    <select id="systemCategory">
                        <option value="">-- è¯·é€‰æ‹©åˆ†ç±» --</option>
                        <!-- åˆ†ç±»é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="system">é€‰æ‹©å‡çº§ç³»ç»Ÿï¼š</label>
                    <select id="system">
                        <option value="">-- è¯·å…ˆé€‰æ‹©åˆ†ç±» --</option>
                        <!-- ç³»ç»Ÿé€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="currentLevel">å½“å‰ç­‰çº§ï¼š</label>
                    <input type="number" id="currentLevel" min="0" value="0" placeholder="è¾“å…¥å½“å‰ç­‰çº§">
                </div>
                
                <div class="form-group">
                    <label for="targetLevel">ç›®æ ‡ç­‰çº§ï¼š</label>
                    <input type="number" id="targetLevel" min="1" value="5" placeholder="è¾“å…¥ç›®æ ‡ç­‰çº§">
                </div>
                
                <button class="btn" onclick="calculateMaterials()">è®¡ç®—æ‰€éœ€ææ–™</button>
                
                <div class="result" id="result" style="display: none;">
                    <h3>è®¡ç®—ç»“æœ</h3>
                    <p>ä»ç­‰çº§ <span id="fromLevel">0</span> å‡çº§åˆ°ç­‰çº§ <span id="toLevel">5</span></p>
                    <div class="materials-list" id="materialsList">
                        <!-- ææ–™åˆ—è¡¨å°†åŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <div class="system-info">
                        <strong>ç³»ç»Ÿï¼š</strong><span id="systemName">-</span><br>
                        <strong>å‡çº§è·¨åº¦ï¼š</strong><span id="levelSpan">0</span> çº§
                    </div>
                </div>
            </div>
            
            <!-- æ•°æ®å±•ç¤ºéƒ¨åˆ† -->
            <div class="data-section">
                <h2>ç³»ç»Ÿæ•°æ®è¯¦æƒ…</h2>
                <div id="systemDetails">
                    <p>è¯·é€‰æ‹©å·¦ä¾§çš„å‡çº§ç³»ç»ŸæŸ¥çœ‹è¯¦æƒ…</p>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>Â© 2025ï¼Œæ•°æ®æ¥æºBç«™ï¼šäºæœˆå…‰å¦‚æ°´XY | Bç«™ï¼šH0nelllæ•´ç† | æ•°æ®ä¼šæ ¹æ®æ¸¸æˆæ›´æ–°è€Œè°ƒæ•´</p>
        </div>
    </div>

    <script>
        // å· - HoNe çš„ä¸ªäººæ ‡è®°
        const userMark = "å·HoNe";
        
        // æ¸¸æˆç³»ç»Ÿæ•°æ®
        const gameSystems = {
            "å® ç‰©ç³»ç»Ÿ": {
                "å® ç‰©ç­‰çº§": {
                    materials: ["ç»éªŒ"],
                    requirements: [[0],[55],[188],[514],[1167],[2277],[3992],[6463],[9855],[14337],[20088],[27297],[36158],[46879],[59675],[74763],[92379],[112761],[136156],[137518],[151270],[166397],[183036],[201341],[221474],[243621],[267984],[294782],[324261],[340473],[357497],[375372],[394141],[413847],[434540],[456267],[479081],[503034],[528186],[533468],[538802],[544191],[549632],[555129],[560680],[566287],[571950],[577669],[583446],[589281],[648208],[713030],[784332],[862765],[949042],[1043947],[1148340],[1263175],[1389493],[1528442],[1834130],[2200956],[2641148],[3433492],[4463540],[7141664],[11426661],[18282659],[36565318],[73130635]]
                },
                "å® ç‰©å¤©èµ‹": {
                    materials: ["å¤©èµ‹ç»éªŒ"],
                    requirements: [[1000],[2000],[3000],[4000],[5000],[6000],[7000],[8000],[9000],[10000],[11000],[12000],[13000],[14000],[15000],[16000],[17000],[18000],[19000],[20000],[21000],[22000],[23000],[24000],[25000],[26000],[27000],[28000],[29000],[30000]]
                },
                "å® ç‰©ä¸ªæ€§": {
                    materials: ["è´¤è€…ä¹‹çŸ³"],
                    requirements: [[25],[32],[42],[54],[68],[85],[105],[127],[152],[180],[64],[108],[155],[205],[260],[318],[381],[447],[518],[592],[284],[386],[494],[606],[724],[848],[977],[1111],[1252],[1398],[658],[851],[1052],[1260],[1476],[1700],[1931],[2171],[2418],[2673],[1222],[1557],[1902],[2257],[2623],[3000],[3388],[3787],[4197],[4618],[2212],[2762],[3327],[3907],[4502],[5113],[5738],[6379],[7035],[7706]]
                },
                "å® ç‰©çµæ ¸": {
                    materials: ["çµæ ¸ç¢ç‰‡","ç‚¼çµçŸ³"],
                    requirements: [[0,0],[4,100],[7,175],[15,375],[23,575],[33,825],[41,1025],[53,1325],[69,1725],[87,2174],[105,2624],[132,3299],[169,4223],[218,5445],[273,6820],[340,8495],[432,10795],[547,13670],[660,16490],[800,19990]]
                },
                "å® ç‰©å”¤çµ-çº¹è·¯ç¢ç‰‡1-4": {
                    materials: ["çº¹è·¯ç¢ç‰‡1-4"],
                    requirements: [[3],[5],[9],[15],[24],[36],[55],[74],[87],[103],[122],[141],[160],[178],[200],[230],[265],[310],[360],[423]]
                },
                "å® ç‰©å”¤çµ-çº¹è·¯ç¢ç‰‡5": {
                    materials: ["çº¹è·¯ç¢ç‰‡5"],
                    requirements: [[1],[2],[3],[5],[8],[12],[19],[25],[30],[35],[41],[48],[54],[61],[68],[78],[90],[105],[122],[145]]
                }
            },
            "é™„é­”æˆ˜é­‚ç³»ç»Ÿ": {
                "é™„é­”ç­‰çº§": {
                    materials: ["çµé­‚çŸ³"],
                    requirements: [[100],[110],[120],[130],[140],[150],[160],[170],[180],[250],[270],[290],[310],[330],[350],[370],[390],[410],[430],[700],[730],[760],[790],[820],[850],[880],[910],[940],[970],[1300],[1340],[1380],[1420],[1460],[1500],[1540],[1580],[1620],[1660],[2000]]
                },
                "æ³¨çµç­‰çº§": {
                    materials: ["çµé­‚çŸ³","æ³¨çµçŸ³"],
                    requirements: [[0,0]]
                },
                "æˆ˜é­‚ç­‰çº§": {
                    materials: ["æˆ˜é­‚ä¸¹"],
                    requirements: [[60],[522],[1584],[3902],[8958],[17060]]
                }
            },
            "å¡ç‰Œç³»ç»Ÿ": {
                "å¡ç‰Œç­‰çº§": {
                    materials: ["å¡é­‚","é‡‘å¸"],
                    requirements: [[300,0],[600,0],[900,0],[1200,0],[1500,0],[1800,0],[2100,0],[2400,0],[2700,0],[3000,0],[3600,0],[4200,0],[4800,0],[5400,0],[6000,0],[6600,0],[7200,0],[7800,0],[8400,0],[9000,0],[12000,0],[15000,0],[18000,0],[21000,0],[24000,0],[27000,0],[33000,0],[39000,0],[45000,0],[51000,0],[57900,0],[64800,0],[71700,0],[78600,0],[85500,0],[92400,0],[99300,0],[106200,0],[113100,0],[126000,0],[140000,1000000],[155000,1500000],[170000,2000000],[185000,3000000],[205000,4500000],[220000,5500000],[240000,7500000],[260000,9500000],[280000,12000000],[300000,15000000],[320000,18500000],[345000,22000000],[365000,26500000],[390000,31500000],[410000,37000000],[435000,43000000],[460000,49500000],[485000,57000000],[510000,65000000],[535000,73500000],[565000,83000000],[590000,93000000],[615000,104000000],[645000,115500000],[670000,128000000],[700000,141500000],[730000,155500000],[760000,170500000],[790000,186500000],[820000,203500000],[850000,221000000],[880000,240000000],[910000,260000000],[940000,280500000],[975000,302500000],[1005000,325500000],[1040000,349500000],[1070000,374500000],[1105000,401000000],[1135000,428000000]]
                },
                "å¡ç‰Œçªç ´": {
                    materials: ["å¡é­‚","çªç ´çŸ³"],
                    requirements: [[3500,50],[5500,85],[8000,135],[11500,200],[15500,285],[21000,395],[28000,520],[36000,675],[46500,855],[59000,1065],[74000,1300],[91500,1570],[112500,1870],[136500,2205],[164000,2575],[195500,2980],[231000,3425],[271000,3910],[315500,4430],[365000,4995],[420000,5600],[480500,6250],[546500,6940],[619000,7675],[698000,8460],[783500,9290],[876500,10165],[976000,11095],[1084000,12070],[1199500,13095]]
                }
            },
            "é­”çŸ³ç³»ç»Ÿ": {
                "ç²¾è‰¯é­”çŸ³é­”ç‰": {
                    materials: ["ç»éªŒ"],
                    requirements: [[40],[2960],[8890],[20600],[44860],[89800],[175660],[330020],[562720],[857770]]
                },
                "å“è¶Šé­”çŸ³é­”ç‰": {
                    materials: ["ç»éªŒ"],
                    requirements: [[45],[3410],[10230],[23690],[51590],[103270],[202010],[379530],[647130],[986430]]
                },
                "ä¼ è¯´é­”çŸ³é­”ç‰": {
                    materials: ["ç»éªŒ"],
                    requirements: [[50],[3920],[11760],[27250],[59330],[118770],[232310],[436460],[744200],[1134400]]
                }
            },
            "äººç‰©åŠ¿åŠ›å·¥ä¼šç³»ç»Ÿ": {
                "VIPç­‰çº§": {
                    materials: ["ç»éªŒ"],
                    requirements: [[0],[500],[1000],[2000],[5000],[10000],[20000],[50000],[100000],[200000],[500000],[1000000],[2000000],[4000000],[10000000]]
                },
                "äººç‰©ç­‰çº§": {
                    materials: ["ç»éªŒ"],
                    requirements: [[0],[37],[125],[343],[778],[1518],[2661],[4309],[6570],[9558],[13392],[18198],[24105],[31253],[39783],[49842],[61586],[75174],[90771],[108551],[128688],[151367],[176774],[205106],[236564],[316050],[359632],[406902],[458028],[513184],[654336],[728793],[810291],[899268],[996173],[1101464],[1215614],[1339104],[1472430],[1616097],[1939316],[2327180],[2792616],[3351138],[4021367],[4825640],[5790767],[6948922],[8338705],[9172576],[10089834],[11098817],[12208699],[13429569],[14772525],[15511152],[16286709],[17101045],[17956097],[19851865],[20790386],[21831102],[23171818],[24912534],[27053250],[29758575],[32734433],[36007875],[43209451],[51851342],[100000000],[110000000],[120000000],[130000000],[140000000],[160000000],[180000000],[200000000],[230000000],[260000000],[290000000],[330000000],[370000000],[410000000],[460000000],[510000000],[560000000],[620000000],[680000000],[740000000],[810000000],[880000000],[950000000],[1030000000],[1110000000],[1190000000],[1280000000],[1370000000],[1460000000],[1560000000]]
                },
                "å¼¹å¼¹è£èª‰": {
                    materials: ["ç»éªŒ"],
                    requirements: [[5],[10],[15],[21],[28],[36],[43],[51],[60],[69],[95],[110],[120],[135],[150],[165],[180],[200],[220],[235],[310],[370],[440],[510],[580],[660],[750],[840],[930],[1020],[1100],[1200],[1300],[1400],[1500],[1600],[1700],[1850],[1950],[2100],[2300],[2400],[2600],[2700],[2900],[3100],[3400],[3700],[4000],[4400],[4700],[5000],[5050],[5100],[5150],[5200],[5250],[5300],[5350],[5400],[5450],[5500],[5550],[5600],[5650],[5700],[5750],[5800],[5850],[5900],[5950],[6000],[6050],[6100],[6150],[6200],[6250],[6300],[6350],[6400],[6450],[6500],[6550],[6600],[6650],[6700],[6750],[6800],[6850],[6900],[6950],[7000],[7050],[7100],[7150],[7200],[7250],[7300],[7350],[0]]
                },
                "æ¢é™©å›¾å†Œ": {
                    materials: ["ç»éªŒ"],
                    requirements: [[175],[350],[525],[700],[1050],[280],[560],[840],[1120],[1680],[510],[1020],[1530],[2040],[3060],[680],[1360],[2040],[2720],[4080]]
                },
                "æŠ¤èº«ç¬¦": {
                    materials: ["100%æˆåŠŸé“å…·1-9çº§ä¸ºå¿ƒæ„¿çŸ³ï¼Œåé¢ä¸ºçµæ„¿çŸ³"],
                    requirements: [[1],[2],[3],[6],[9],[12],[24],[36],[60],[200],[1],[2],[3],[9],[13],[18],[24],[31],[38],[47],[58],[70],[84],[100],[119],[141],[167],[196],[229],[268],[312],[363],[422],[489],[566],[654],[755],[870],[1002],[1152],[1324],[1521],[1744],[2000],[2291],[2622],[2999],[3429],[3918],[4474]]
                },
                "åº„å›­ç­‰çº§": {
                    materials: ["ç»éªŒ"],
                    requirements: [[190],[275],[1585],[1255],[3680],[7375],[10465],[7665],[24230],[22275],[33665],[40325],[64905],[78970],[69875],[94015],[68580],[148450],[189280],[200335],[256910],[292285],[310125],[513385],[401235],[278640],[703900],[595750],[888860],[699160],[495155],[1153195],[1257165],[1065590],[1950340],[848095],[884000],[1882975],[2018385],[2816955],[1273535],[1321005],[1369215],[2798765],[3807275],[1725185],[1782790],[1841245],[1900255],[0]]
                },
                "å…¬ä¼šè¿œå¾": {
                    materials: ["è¿œå¾å°è®°","å¾æœä¹‹è¡€"],
                    requirements: [[2000,400],[2400,480],[2800,560],[3200,640],[3600,720],[4000,800],[4400,880],[4800,960],[5200,1040],[5600,1120],[6000,1200],[6400,1280],[6800,1360],[7200,1440],[7600,1520],[8000,1600],[8800,1760],[9600,1920],[10400,2080],[11200,2240],[12000,2400],[12800,2560],[13600,2720],[14400,2880],[15200,3040],[16000,3200],[16800,3360],[17600,3520],[18400,3680],[19200,3840],[20000,4000],[21200,4240],[22400,4480],[23600,4720],[24800,4960],[26000,5200],[27200,5440],[28400,5680],[29600,5920],[30800,6160],[32000,6400],[33600,6720],[35200,7040],[36800,7360],[38400,7680],[40000,8000],[42000,8400],[44000,8800],[46000,9200],[48000,9600]]
                },
                "å…¬ä¼šæŠ€èƒ½å¼ºåŒ–": {
                    materials: ["å¼ºåŒ–å‰‚"],
                    requirements: [[55],[105],[165],[230],[300],[375],[455],[535],[625],[715],[805],[900],[995],[1095],[1195],[1300],[1405],[1515],[1625],[1735],[800],[1850],[3225],[5000],[7250],[3350],[5775],[8800],[12500],[16800],[7440],[12240],[17760],[24000],[30960],[13800],[21560],[30160],[39600],[49880],[21960],[32000],[42880],[54600],[67160],[30400],[47400],[65600],[85000],[105600]]
                },
                "åŠ¿åŠ›ç­‰çº§": {
                    materials: ["ç»éªŒ","å•µå’•/é‚ªç¥å¾½ç« ","åŠ¿åŠ›ä¹‹å¿ƒ"],
                    requirements: [[10400,0,0],[10500,0,0],[11100,0,0],[11000,0,0],[11800,0,0],[11500,0,0],[12500,0,0],[12000,0,0],[14200,0,0],[14800,100,1000],[15400,0,0],[16000,0,0],[16600,0,0],[17200,0,0],[17800,0,0],[18400,0,0],[19000,0,0],[19600,0,0],[24200,0,0],[25200,200,2000],[26200,0,0],[27200,0,0],[28200,0,0],[29200,0,0],[30200,0,0],[31200,0,0],[32200,0,0],[33200,0,0],[43200,0,0],[44800,300,3000],[46400,0,0],[48000,0,0],[49600,0,0],[51200,0,0],[52800,0,0],[54400,0,0],[56000,0,0],[57600,0,0],[79200,0,0],[81800,100,6000],[84400,0,0],[87000,0,0],[89600,0,0],[92200,0,0],[94800,0,0],[97400,0,0],[100000,0,0],[102600,0,0],[140200,0,0],[144200,200,9000],[148200,0,0],[152200,0,0],[156200,0,0],[160200,0,0],[164200,0,0],[168200,0,0],[172200,0,0],[176200,0,0],[240200,0,0],[246200,300,12000],[252200,0,0],[258200,0,0],[264200,0,0],[270200,0,0],[276200,0,0],[282200,0,0],[288200,0,0],[294200,0,0],[370200,0,0],[378200,100,18000],[386200,0,0],[394200,0,0],[402200,0,0],[410200,0,0],[418200,0,0],[418200,0,0],[426200,0,0],[434200,0,0],[442200,0,0],[530200,0,0],[540200,200,24000],[550200,0,0],[560200,0,0],[570200,0,0],[580200,0,0],[590200,0,0],[600200,0,0],[610200,0,0],[620200,0,0],[720200,0,0],[732200,300,30000],[744200,0,0],[756200,0,0],[768200,0,0],[780200,0,0],[792200,0,0],[804200,0,0],[816200,0,0],[828200,0,0],[1240200,0,0]]
                }
            },
            "åœ£çµç³»ç»Ÿ": {
                "å››æ˜Ÿåœ£çµç­‰çº§": {
                    materials: ["ç»éªŒ"],
                    requirements: [[150],[180],[225],[285],[345],[420],[495],[600],[705],[825],[960],[1110],[1260],[1440],[1650],[1950],[2100],[2400],[2550],[2850],[3600],[4350],[4800],[5250],[5700],[6150],[6750],[7200],[7800],[8400],[9000],[9600],[10200],[10950],[11700],[12450],[13200],[13950],[14700],[15600],[16500],[17400],[18300],[19200],[20250],[21300],[22350],[23400],[24450],[25500],[28050],[30300],[32700],[34950],[37500],[40200],[42600],[45300],[48150],[50850],[53700],[56700],[59700],[62700],[66000],[69000],[72300],[75750],[79350],[82800]]
                },
                "äº”æ˜Ÿåœ£çµç­‰çº§": {
                    materials: ["ç»éªŒ"],
                    requirements: [[225],[270],[337],[427],[517],[630],[742],[900],[1057],[1237],[1440],[1665],[1890],[2160],[2475],[2925],[3150],[3600],[3825],[4275],[5400],[6525],[7200],[7875],[8550],[9225],[10125],[10800],[11700],[12600],[13500],[14400],[15300],[16425],[17550],[18675],[19800],[20925],[22050],[23400],[24750],[26100],[27450],[28800],[30375],[31950],[33525],[35100],[36675],[38250],[42075],[45450],[49050],[52425],[56250],[60300],[63900],[67950],[72225],[76275],[80550],[85050],[89550],[94050],[99000],[103500],[108450],[113625],[119025],[124200]]
                },
                "åœ£çµçµå®": {
                    materials: ["çµæ™¶","çµå…ƒ"],
                    requirements: [[0,0],[20,0],[40,0],[70,0],[130,1],[180,0],[250,0],[330,0],[410,0],[470,2],[145,0],[255,0],[370,0],[485,0],[610,5],[730,0],[860,0],[995,0],[1130,0],[1270,10],[325,0],[580,0],[845,0],[1120,0],[1410,15],[1710,0],[2025,0],[2350,0],[2685,0],[3035,20],[610,0],[995,0],[1415,0],[1875,0],[2380,30],[2930,0],[3540,0],[4290,0],[4940,0],[5740,40],[970,0],[1555,0],[2175,0],[2835,0],[3540,45],[4290,0],[5100,0],[5970,0],[6900,0],[7900,0]]
                }
            },
            "é¦–é¥°ç³»ç»Ÿ": {
                "åŠ å·¥": {
                    materials: ["ç¿¡ç¿ "],
                    requirements: [[210],[240],[290],[330],[380],[440],[500],[560],[630],[700],[780],[870],[950],[1050],[1140],[1240],[1350],[1460],[1580],[1690],[1820],[1950],[2080],[2220],[2360],[2510],[2660],[2820],[2980],[3140],[3320],[3490],[3670],[3850],[4040],[4240],[4430],[4640],[4840],[5050]]
                },
                "æ·¬ç‚¼å¼€å­”": {
                    materials: ["ç›ç‘™"],
                    requirements: [[1],[99],[100],[200],[400]]
                },
                "çŒæ³¨çªç ´": {
                    materials: ["ç»éªŒ","ç´«è€€æ£±æ™¶","å®šå‘çªç ´æ¶ˆè€—å·è½´"],
                    requirements: [[60000,150,0],[120000,300,30],[210000,525,60],[360000,900,90],[600000,1500,120],[900000,2250,150],[1200000,3000,180],[1800000,4500,210],[2400000,6000,240],[3000000,7500,270]]
                },
                "é¡¹é“¾": {
                    materials: ["ç´«æ™¶çŸ³","ç²¾é“¸çŸ³"],
                    requirements: [[60,0],[75,0],[90,0],[105,0],[120,90],[140,120],[155,150],[175,190],[195,230],[215,280],[235,330],[255,390],[275,455],[300,525],[320,600],[345,680],[365,770],[390,865],[415,965],[440,1070],[460,1180],[485,1300],[510,1425],[535,1555],[565,1695],[590,1840],[615,1990],[640,2145],[670,2310],[695,2480],[725,2660],[750,2845],[780,3035],[805,3235],[835,3440],[865,3650],[890,3870],[920,4100],[950,4330],[980,4570]]
                }
            },
            "ä¿®ç‚¼ç³»ç»Ÿ": {
                "ä¿®ç‚¼ç»éªŒ": {
                    materials: ["ç»éªŒ"],
                    requirements: [[0],[100],[150],[200],[250],[300],[400],[500],[600],[700],[1000],[1300],[1600],[1900],[2200],[2600],[3000],[3400],[3800],[4200],[4700],[5200],[5700],[6200],[6700],[7300],[7900],[8500],[9100],[9700],[10400],[11100],[11800],[12500],[13200],[14000],[14800],[15600],[16400],[17200],[18100],[19000],[19900],[20800],[21700],[22700],[23700],[24700],[25700],[26700],[27800],[28900],[30000],[31100],[32200],[33400],[34600],[35800],[37000],[38200],[39500],[40800],[42100],[43400],[44700],[46100],[47500],[48900],[50300],[51700]]
                },
                "åŒ–ç¥": {
                    materials: ["åŒ–ç¥çŸ³","ä¸‰çº§è¯æ°´"],
                    requirements: [[10,1275],[65,1775],[140,2275],[240,2775],[380,3275],[565,3775],[815,4275],[1135,4775],[1540,5275],[2040,0]]
                }
            },
            "åéª‘é¾™å¿ƒç³»ç»Ÿ": {
                "åéª‘ç­‰çº§": {
                    materials: ["ç»éªŒ"],
                    requirements: [[338],[464],[608],[779],[959],[1175],[1400],[1652],[1922],[2210],[2525],[2849],[3173],[3506],[3866],[4266],[4806],[5481],[6655],[8465],[10186],[10658],[11965],[13304],[167063],[172674],[177287],[182899],[185510],[189823],[193735],[228355],[231800],[235185],[239869],[244053],[248937],[253321],[258405],[264289],[275173],[28018],[28675],[29596],[30467],[32136],[326292],[329433],[335513],[338493],[344773],[349553],[354833],[359113],[362993],[36581],[370073],[378153],[39581],[396020],[41681],[426035],[436516],[447117],[45481],[455401],[457842],[468688],[479656],[48581],[490746],[501959],[85335],[87226],[92897],[94436],[97977],[104516],[111057],[113596],[119137],[121676],[144494],[148390],[152503],[154115],[158227],[161838],[164451]]
                },
                "åéª‘å‡é˜¶": {
                    materials: ["åéª‘å‡çº§ä¸¹","ç‰ç’ƒç "],
                    requirements: [[100,0],[135,0],[175,0],[215,0],[255,0],[300,0],[345,50],[395,95],[445,145],[500,205],[555,265],[610,340],[670,415],[730,495],[790,585],[855,680],[920,785],[990,895],[1060,1010],[1130,1130],[1200,1255],[1275,1390],[1350,1530],[1430,1680],[1505,1835],[1585,1990],[1670,2160],[1755,2330],[1840,2510],[1925,2695],[2015,2885],[2105,3085],[2195,3290],[2285,3500],[2380,3720],[2475,3940],[2575,4175],[2670,4410],[2775,4650],[2875,4900],[2975,5155],[3080,5420],[3190,5690],[3295,5965],[3405,6245],[3515,6530],[3625,6825],[3740,7125],[3855,7435],[3970,7750]]
                },
                "åéª‘æ™¶æ ¸": {
                    materials: ["çº¯ç²¹ç»“æ™¶","ç»å¢ƒçµä¸¹"],
                    requirements: [[0,0]]
                },
                "é¾™ä¹‹å¿ƒ": {
                    materials: ["é¾™é­‚","é¾™å¿ƒçŸ³","è§£é”æ ¸å¿ƒæ•°é‡"],
                    requirements: [[1180,10,3],[3320,30,0],[6530,70,0],[10810,110,0],[16160,160,0],[22580,230,4],[30070,300,0],[38630,390,0],[48260,480,0],[58960,590,0],[70720,710,5],[83560,840,0],[97470,970,0],[112450,1120,0],[128500,1290,0],[145620,1460,6],[163810,1640,0],[183070,1830,0],[203400,2030,0],[224800,2250,0]]
                },
                "é¾™çº¹å¢å¹…": {
                    materials: ["é¾™èƒ½çŸ³","é¾™çº¹"],
                    requirements: [[0,0]]
                }
            },
            "å®ç ç³»ç»Ÿ": {
                "å•å±æ€§å®ç ": {
                    materials: ["ç»éªŒ"],
                    requirements: [[1],[2],[4],[8],[16],[32],[64],[128],[384],[1152],[3456],[10368],[31104],[93312],[279936],[839808],[1679616]],
                    description: "æ”»å‡»/æ•æ·/é˜²å¾¡/ä¼¤å®³/æŠ¤ç”²/å¹¸è¿",
                    maxLevel: 17
                },
                "äºŒçº§åŒå±æ€§å®ç ": {
                    materials: ["æ¶ˆè€—: 1876é¢—11çº§å®ç "],
                    requirements: [[1876]],
                    description: "æ”»ä¼¤=æ»¡çº§æ”»å‡»+æ»¡çº§ä¼¤å®³ | æ•ä¼¤=æ»¡çº§æ•æ·+æ»¡çº§ä¼¤å®³ | é˜²ä¼¤=æ»¡çº§é˜²å¾¡+æ»¡çº§ä¼¤å®³ | å¹¸ä¼¤=æ»¡çº§å¹¸è¿+æ»¡çº§ä¼¤å®³ | æ”»ç”²=æ»¡çº§æ”»å‡»+æ»¡çº§æŠ¤ç”² | æ•ç”²=æ»¡çº§æ•æ·+æ»¡çº§æŠ¤ç”² | é˜²ç”²=æ»¡çº§é˜²å¾¡+æ»¡çº§æŠ¤ç”² | å¹¸ç”²=æ»¡çº§å¹¸è¿+æ»¡çº§æŠ¤ç”²",
                    isSpecial: true,
                    showAsConsumption: true
                },
                "ä¸‰çº§åŒå±æ€§å®ç ": {
                    materials: ["æ¶ˆè€—: 3752é¢—11çº§å®ç "],
                    requirements: [[3752]],
                    description: "ä¼¤ç”²=æ»¡çº§ä»»æ„åŒå±æ€§+æ»¡çº§ä»»æ„åŒå±æ€§ | è¶…ä¼¤=æ»¡çº§æ”»ä¼¤+æ»¡çº§ä»»æ„åŒå±æ€§ | è¶…ç”²=æ»¡çº§é˜²ç”²+æ»¡çº§ä»»æ„åŒå±æ€§",
                    isSpecial: true,
                    showAsConsumption: true
                },
                "å°å°å­”": {
                    materials: ["1çº§é’»å¤´(2-5ç»éªŒ)"],
                    requirements: [
                        [Math.ceil(400 / 2)],  // 1çº§å­”ï¼š200ä¸ª1çº§é’»å¤´ï¼ˆæŒ‰æœ€å°ç»éªŒ2è®¡ç®—ï¼‰
                        [Math.ceil(600 / 5) * 4],  // 2çº§å­”ï¼š480ä¸ª1çº§é’»å¤´ï¼ˆ120Ã—4ï¼‰
                        [Math.ceil(700 / 8) * 16], // 3çº§å­”ï¼š1408ä¸ª1çº§é’»å¤´ï¼ˆ88Ã—16ï¼‰
                        [Math.ceil(800 / 11) * 64], // 4çº§å­”ï¼š4736ä¸ª1çº§é’»å¤´ï¼ˆ74Ã—64ï¼‰
                        [Math.ceil(800 / 14) * 256] // 5çº§å­”ï¼š14848ä¸ª1çº§é’»å¤´ï¼ˆ58Ã—256ï¼‰
                    ],
                    description: "å°å°å­”å‡çº§æ‰€éœ€çš„1çº§é’»å¤´æ•°é‡"
                }
            },
            "ç¥åº™ç³»ç»Ÿ": {
                "ç¥ç¦": {
                    materials: ["ç»éªŒ"],
                    requirements: [[0],[2000],[5000],[9500],[16250],[26376],[41566],[64352],[98532],[149802],[167802],[192102],[224908],[269196],[328984],[409698],[518662],[665764],[864352],[1132446],[1312446],[1519446],[1757496],[2031254],[2346076],[2708122],[3124474],[3603278],[4153902],[4787120],[5247120],[5762320],[6339344],[6985610],[7709428],[8520104],[9428062],[10444974],[11583916],[12859532],[13919532],[15064332],[16300716],[17636010],[19078128],[20635616],[22317704],[24134360],[26096348],[28215296],[30015296],[31923296],[33945776],[36089604],[38362062],[40770868],[43324202],[46030736],[48899662],[51940724],[54940724]],
                    levelTypes: {
                        1: "ä¸€æ˜Ÿç¥ç¦",
                        11: "äºŒæ˜Ÿç¥ç¦", 
                        21: "ä¸‰æ˜Ÿç¥ç¦",
                        31: "å››æ˜Ÿç¥ç¦",
                        41: "äº”æ˜Ÿç¥ç¦",
                        51: "å…­æ˜Ÿç¥ç¦"
                    }
                },
                "å‡å": {
                    materials: ["é«˜çº§ç¥­å“","ä¸ƒå®çƒ›"],
                    requirements: [[20,0],[27,0],[49,0],[73,0],[97,0],[122,122],[147,147],[173,173],[199,199],[226,226],[252,252],[72,72],[126,126],[183,183],[242,242],[303,303],[365,365],[430,430],[496,496],[564,564],[634,634],[162,162],[289,289],[422,422],[560,560],[705,705],[855,855],[1011,1011],[1173,1173],[1342,1342],[1517,1517],[303,433],[497,727],[707,1037],[936,1366],[1188,1718],[1465,2095],[1769,2499],[2103,2933],[2469,3399],[2869,3899],[483,1003],[777,1617],[1087,2247],[1416,2896],[1768,3568],[2145,4265],[2549,4989],[2983,5743],[3449,6529],[3949,7349],[863,2803],[1352,3812],[1847,4827],[2348,5848],[2855,6875],[3368,7908],[3887,8947],[4412,9992],[4943,11043],[5480,12100]],
                    levelTypes: {
                        1: "è¡€é‡å‡å",
                        11: "é­”æŠ—å‡å", 
                        21: "éŸ§æ€§å‡å",
                        31: "å…ä¼¤å‡å",
                        41: "å¿…æŠ—å‡å",
                        51: "å®ˆæŠ¤å‡å"
                    }
                }
            },
            "æ‰“é€ ç³»ç»Ÿ": {
                "çŸ³è£…": {
                    materials: ["ç¢çŸ³"],
                    requirements: [[205],[278],[377],[512],[696],[945],[1283],[1743],[2367],[3214],[4365],[5929],[8052],[10936]],
                    experience: [[21],[28],[38],[52],[70],[95],[129],[175],[237],[322],[437],[593],[806],[1094]],
                    consume: {
                        "ç¢çŸ³": [[21],[28],[38],[52],[70],[95],[129],[175],[237],[322],[437],[593],[806],[1094]]
                    }
                },
                "é“œè£…": {
                    materials: ["é“œå—"],
                    requirements: [[307],[417],[566],[769],[1045],[1419],[1927],[2617],[3554],[4827],[6556],[8904],[12092],[16424]],
                    experience: [[31],[42],[57],[77],[105],[142],[193],[262],[356],[483],[656],[891],[1210],[1643]],
                    consume: {
                        "ç¢çŸ³": [[123],[167],[227],[308],[418],[568],[771],[1047],[1422],[1931],[2623],[3562],[4837],[6570]],
                        "é“œå—": [[31],[42],[57],[77],[105],[142],[193],[262],[356],[483],[656],[891],[1210],[1643]]
                    }
                },
                "é“¶è£…": {
                    materials: ["é“¶ä¸"],
                    requirements: [[373],[507],[689],[935],[1270],[1725],[2343],[3182],[4322],[5869],[7971],[10826],[14702],[19969]],
                    experience: [[38],[51],[69],[94],[127],[173],[235],[319],[433],[587],[798],[1083],[1471],[1997]],
                    consume: {
                        "ç¢çŸ³": [[448],[609],[827],[1122],[1524],[2070],[2812],[3819],[5187],[7043],[9566],[12992],[17643],[23963]],
                        "é“œå—": [[112],[152],[207],[281],[381],[518],[703],[955],[1297],[1761],[2392],[3248],[4411],[5991]],
                        "é“¶ä¸": [[38],[51],[69],[94],[127],[173],[235],[319],[433],[587],[798],[1083],[1471],[1997]]
                    }
                },
                "é‡‘è£…": {
                    materials: ["é‡‘æ²™"],
                    requirements: [[410],[556],[756],[1026],[1394],[1893],[2571],[3491],[4742],[6440],[8746],[11878],[16131],[21910]],
                    experience: [[41],[56],[76],[103],[140],[190],[258],[350],[475],[644],[875],[1188],[1614],[2191]],
                    consume: {
                        "ç¢çŸ³": [[984],[1335],[1815],[2463],[3346],[4544],[6171],[8379],[11381],[15456],[20991],[28508],[38715],[52585]],
                        "é“œå—": [[246],[334],[454],[616],[837],[1136],[1543],[2095],[2845],[3864],[5248],[7127],[9679],[13146]],
                        "é“¶ä¸": [[82],[111],[151],[205],[279],[379],[515],[699],[949],[1289],[1750],[2376],[3226],[4382]],
                        "é‡‘æ²™": [[41],[56],[76],[103],[140],[190],[258],[350],[475],[644],[875],[1188],[1614],[2191]]
                    }
                },
                "ç‰è£…": {
                    materials: ["ç‰é«“"],
                    requirements: [[435],[590],[801],[1088],[1478],[2008],[2726],[3703],[5029],[6830],[9275],[12597],[17107],[23240]],
                    experience: [[44],[59],[81],[109],[148],[201],[273],[371],[503],[683],[928],[1260],[1711],[2324]],
                    consume: {
                        "ç¢çŸ³": [[2088],[2832],[3845],[5222],[7094],[9638],[13085],[17774],[24139],[32784],[44520],[60466],[82114],[111552]],
                        "é“œå—": [[522],[708],[961],[1306],[1774],[2410],[3271],[4444],[6035],[8196],[11130],[15117],[20529],[27888]],
                        "é“¶ä¸": [[174],[236],[320],[435],[591],[803],[1090],[1481],[2012],[2732],[3710],[5039],[6843],[9296]],
                        "é‡‘æ²™": [[87],[118],[160],[218],[296],[402],[545],[741],[1006],[1366],[1855],[2520],[3422],[4648]],
                        "ç‰é«“": [[44],[59],[81],[109],[148],[201],[273],[371],[503],[683],[928],[1260],[1711],[2324]]
                    }
                }
            }
        };

        // åˆå§‹åŒ–ç³»ç»Ÿé€‰æ‹©ä¸‹æ‹‰æ¡†
        function initializeSystems() {
            const categorySelect = document.getElementById('systemCategory');
            const systemSelect = document.getElementById('system');
            
            // æ¸…ç©ºé€‰é¡¹
            categorySelect.innerHTML = '<option value="">-- è¯·é€‰æ‹©åˆ†ç±» --</option>';
            systemSelect.innerHTML = '<option value="">-- è¯·å…ˆé€‰æ‹©åˆ†ç±» --</option>';
            
            // æ·»åŠ åˆ†ç±»é€‰é¡¹
            for (const categoryName in gameSystems) {
                const option = document.createElement('option');
                option.value = categoryName;
                option.textContent = categoryName;
                categorySelect.appendChild(option);
            }
            
            // é»˜è®¤é€‰æ‹©ç¬¬ä¸€ä¸ªåˆ†ç±»
            if (Object.keys(gameSystems).length > 0) {
                categorySelect.value = Object.keys(gameSystems)[0];
                updateSystemOptions();
                updateSystemDetails();
            }
        }

        // æ›´æ–°ç³»ç»Ÿé€‰é¡¹
        function updateSystemOptions() {
            const categorySelect = document.getElementById('systemCategory');
            const systemSelect = document.getElementById('system');
            const selectedCategory = categorySelect.value;
            
            systemSelect.innerHTML = '<option value="">-- è¯·é€‰æ‹©ç³»ç»Ÿ --</option>';
            
            if (!selectedCategory || !gameSystems[selectedCategory]) {
                return;
            }
            
            for (const systemName in gameSystems[selectedCategory]) {
                const option = document.createElement('option');
                option.value = systemName;
                option.textContent = systemName;
                systemSelect.appendChild(option);
            }
            
            // é»˜è®¤é€‰æ‹©ç¬¬ä¸€ä¸ªç³»ç»Ÿ
            if (Object.keys(gameSystems[selectedCategory]).length > 0) {
                systemSelect.value = Object.keys(gameSystems[selectedCategory])[0];
                updateSystemDetails();
            }
        }

        // æ›´æ–°ç³»ç»Ÿè¯¦æƒ…æ˜¾ç¤º
        function updateSystemDetails() {
            const categorySelect = document.getElementById('systemCategory');
            const systemSelect = document.getElementById('system');
            const selectedCategory = categorySelect.value;
            const selectedSystem = systemSelect.value;
            const detailsDiv = document.getElementById('systemDetails');
            
            if (!selectedCategory || !selectedSystem || !gameSystems[selectedCategory] || !gameSystems[selectedCategory][selectedSystem]) {
                detailsDiv.innerHTML = '<p>è¯·é€‰æ‹©å·¦ä¾§çš„å‡çº§ç³»ç»ŸæŸ¥çœ‹è¯¦æƒ…</p>';
                return;
            }
            
            const systemData = gameSystems[selectedCategory][selectedSystem];
            
            // ç‰¹æ®Šå¤„ç†å®ç ç³»ç»Ÿçš„æ˜¾ç¤º
            if ((selectedCategory === "å®ç ç³»ç»Ÿ" || selectedCategory === "ç¥åº™ç³»ç»Ÿ" || selectedCategory === "æ‰“é€ ç³»ç»Ÿ") && systemData.isSpecial) {
                let html = `<div class="system-category">
                            <h3>${selectedCategory} - ${selectedSystem}</h3>
                            <div class="consumption-info">
                                <h4>åˆæˆæ¶ˆè€—</h4>`;
                
                for (let i = 0; i < systemData.materials.length; i++) {
                    html += `<div class="material-item">
                                <span class="material-name">${systemData.materials[i]}</span>
                                <span class="material-amount">${systemData.requirements[0][i] || systemData.requirements[0]}</span>
                            </div>`;
                }
                
                html += `</div>
                         <div class="synthesis-formula">
                            <h4>åˆæˆå…¬å¼</h4>
                            <div class="formula-item">${systemData.description}</div>
                         </div>
                         </div>`;
                detailsDiv.innerHTML = html;
                return;
            }
            
            // ç‰¹æ®Šå¤„ç†æ‰“é€ ç³»ç»Ÿ
            if (selectedCategory === "æ‰“é€ ç³»ç»Ÿ" && systemData.consume) {
                let html = `<div class="system-category">
                            <h3>${selectedCategory} - ${selectedSystem}</h3>
                            <p>æ‰€éœ€ææ–™: ${systemData.materials.join(', ')}</p>
                            <p>æœ€é«˜ç­‰çº§: ${systemData.requirements.length}</p>`;
                
                html += `<table class="level-table">
                            <tr>
                                <th>ç­‰çº§</th>
                                <th>æ‰€éœ€ç»éªŒ</th>
                                <th>ç´¯è®¡ç»éªŒ</th>`;
                
                // æ·»åŠ æ¶ˆè€—ææ–™è¡¨å¤´
                for (const material in systemData.consume) {
                    html += `<th>${material}æ¶ˆè€—</th>`;
                }
                
                html += `</tr>`;
                
                let totalExp = 0;
                let totalConsume = {};
                for (const material in systemData.consume) {
                    totalConsume[material] = 0;
                }
                
                for (let i = 0; i < systemData.requirements.length; i++) {
                    totalExp += systemData.requirements[i][0];
                    
                    html += `<tr>
                                <td>${i + 1}</td>
                                <td>${systemData.requirements[i][0]}</td>
                                <td>${totalExp}</td>`;
                    
                    // æ·»åŠ æ¯ç§ææ–™çš„æ¶ˆè€—
                    for (const material in systemData.consume) {
                        const consumeValue = systemData.consume[material][i][0];
                        totalConsume[material] += consumeValue;
                        html += `<td>${consumeValue}</td>`;
                    }
                    
                    html += `</tr>`;
                }
                
                html += '</table></div>';
                detailsDiv.innerHTML = html;
                
                // æ›´æ–°ç›®æ ‡ç­‰çº§çš„æœ€å¤§å€¼
                document.getElementById('targetLevel').max = systemData.requirements.length;
                document.getElementById('targetLevel').value = Math.min(5, systemData.requirements.length);
                return;
            }
            
            // ç‰¹æ®Šå¤„ç†ç¥åº™ç³»ç»Ÿ
            if (selectedCategory === "ç¥åº™ç³»ç»Ÿ" && systemData.levelTypes) {
                const materials = systemData.materials;
                const requirements = systemData.requirements;
                
                let html = `<div class="system-category">
                            <h3>${selectedCategory} - ${selectedSystem}</h3>
                            <p>æ‰€éœ€ææ–™: ${materials.join(', ')}</p>
                            <p>æœ€é«˜ç­‰çº§: ${requirements.length}</p>`;
                
                html += `<table class="level-table">
                            <tr>
                                <th>ç­‰çº§</th>`;
                
                // æ·»åŠ ææ–™è¡¨å¤´
                for (const material of materials) {
                    html += `<th>${material}</th>`;
                }
                
                html += `<th>ç­‰çº§ç±»å‹</th>
                         </tr>`;
                
                // æ·»åŠ ç­‰çº§ç±»å‹ - æ˜¾ç¤ºå…¨éƒ¨ç­‰çº§
                for (let i = 0; i < requirements.length; i++) {
                    let levelType = '';
                    for (const [startLevel, type] of Object.entries(systemData.levelTypes)) {
                        if (i >= parseInt(startLevel)) {
                            levelType = type;
                        }
                    }
                    
                    html += `<tr>
                                <td>${i}</td>`;
                    
                    requirements[i].forEach(value => {
                        html += `<td>${value}</td>`;
                    });
                    
                    // å¡«å……ç¼ºå¤±çš„åˆ—ï¼ˆå¦‚æœrequirementsé•¿åº¦å°äºmaterialsï¼‰
                    for (let j = requirements[i].length; j < materials.length; j++) {
                        html += '<td>0</td>';
                    }
                    
                    html += `<td class="level-type">${levelType}</td>
                             </tr>`;
                }
                
                html += '</table></div>';
                detailsDiv.innerHTML = html;
                
                // æ›´æ–°ç›®æ ‡ç­‰çº§çš„æœ€å¤§å€¼
                document.getElementById('targetLevel').max = requirements.length;
                document.getElementById('targetLevel').value = Math.min(5, requirements.length);
                return;
            }
            
            // å¸¸è§„ç³»ç»Ÿæ˜¾ç¤º
            const materials = systemData.materials;
            const requirements = systemData.requirements;
            
            let html = `<div class="system-category">
                        <h3>${selectedCategory} - ${selectedSystem}</h3>
                        <p>æ‰€éœ€ææ–™: ${materials.join(', ')}</p>
                        <p>æœ€é«˜ç­‰çº§: ${requirements.length}</p>`;
            
            html += `<table class="level-table">
                        <tr>
                            <th>ä»ç­‰çº§</th>
                            <th>åˆ°ç­‰çº§</th>`;
            
            // æ·»åŠ ææ–™è¡¨å¤´
            for (const material of materials) {
                html += `<th>${material}</th>`;
            }
            
            html += `<th>ç´¯è®¡ææ–™</th>
                    </tr>`;
            
            let cumulativeMaterials = Array(materials.length).fill(0);
            
            // æ·»åŠ 0çº§åˆ°1çº§çš„è¡Œ
            html += `<tr>
                        <td>0</td>
                        <td>1</td>`;
            
            // 0çº§åˆ°1çº§éœ€è¦çš„ææ–™
            for (let j = 0; j < materials.length; j++) {
                html += `<td>${requirements[0][j]}</td>`;
                cumulativeMaterials[j] += requirements[0][j];
            }
            
            // æ·»åŠ ç´¯è®¡ææ–™
            html += `<td>${cumulativeMaterials.map((val, idx) => `${materials[idx]}:${val}`).join(', ')}</td>`;
            html += `</tr>`;
            
            // æ·»åŠ å…¶ä»–ç­‰çº§è¡Œ
            for (let i = 1; i < requirements.length; i++) {
                // æ›´æ–°ç´¯è®¡ææ–™
                for (let j = 0; j < materials.length; j++) {
                    cumulativeMaterials[j] += requirements[i][j];
                }
                
                html += `<tr>
                            <td>${i}</td>
                            <td>${i + 1}</td>`;
                
                // æ·»åŠ å½“å‰ç­‰çº§æ‰€éœ€ææ–™
                for (let j = 0; j < materials.length; j++) {
                    html += `<td>${requirements[i][j]}</td>`;
                }
                
                // æ·»åŠ ç´¯è®¡ææ–™
                html += `<td>${cumulativeMaterials.map((val, idx) => `${materials[idx]}:${val}`).join(', ')}</td>`;
                
                html += `</tr>`;
            }
            
            html += '</table></div>';
            detailsDiv.innerHTML = html;
            
            // æ›´æ–°ç›®æ ‡ç­‰çº§çš„æœ€å¤§å€¼
            document.getElementById('targetLevel').max = requirements.length;
            document.getElementById('targetLevel').value = Math.min(5, requirements.length);
        }

        // è®¡ç®—æ‰€éœ€ææ–™
        function calculateMaterials() {
            const categorySelect = document.getElementById('systemCategory');
            const systemSelect = document.getElementById('system');
            const currentLevel = parseInt(document.getElementById('currentLevel').value);
            const targetLevel = parseInt(document.getElementById('targetLevel').value);
            const selectedCategory = categorySelect.value;
            const selectedSystem = systemSelect.value;
            
            if (!selectedCategory || !selectedSystem) {
                alert('è¯·å…ˆé€‰æ‹©å‡çº§ç³»ç»Ÿï¼');
                return;
            }
            
            if (currentLevel >= targetLevel) {
                alert('ç›®æ ‡ç­‰çº§å¿…é¡»å¤§äºå½“å‰ç­‰çº§ï¼');
                return;
            }
            
            const systemData = gameSystems[selectedCategory][selectedSystem];
            
            // ç‰¹æ®Šå¤„ç†å®ç ç³»ç»Ÿçš„è®¡ç®—
            if ((selectedCategory === "å®ç ç³»ç»Ÿ" || selectedCategory === "ç¥åº™ç³»ç»Ÿ" || selectedCategory === "æ‰“é€ ç³»ç»Ÿ") && systemData.isSpecial) {
                // å¯¹äºäºŒçº§ä¸‰çº§å®ç ï¼Œåªæ˜¾ç¤ºæ¶ˆè€—æ•°é‡
                document.getElementById('fromLevel').textContent = "åˆæˆ";
                document.getElementById('toLevel').textContent = "è·å¾—";
                document.getElementById('systemName').textContent = `${selectedCategory} - ${selectedSystem}`;
                document.getElementById('levelSpan').textContent = "1";
                
                const materialsList = document.getElementById('materialsList');
                materialsList.innerHTML = '';
                
                for (let i = 0; i < systemData.materials.length; i++) {
                    const materialDiv = document.createElement('div');
                    materialDiv.className = 'material-item';
                    materialDiv.innerHTML = `
                        <span class="material-name">${systemData.materials[i]}</span>
                        <span class="material-amount">${systemData.requirements[0][i] || systemData.requirements[0]}</span>
                    `;
                    materialsList.appendChild(materialDiv);
                }
                
                document.getElementById('result').style.display = 'block';
                return;
            }
            
            const requirements = systemData.requirements;
            let maxLevel = requirements.length;
            
            // ç‰¹æ®Šå¤„ç†ç¥åº™ç³»ç»Ÿ - å–æ¶ˆç­‰çº§é™åˆ¶
            if (selectedCategory === "ç¥åº™ç³»ç»Ÿ" && systemData.levelTypes) {
                maxLevel = requirements.length;
            }
            
            if (targetLevel > maxLevel) {
                alert(`ç›®æ ‡ç­‰çº§ä¸èƒ½è¶…è¿‡ç³»ç»Ÿæœ€é«˜ç­‰çº§ ${maxLevel}ï¼`);
                return;
            }
            
            // è®¡ç®—ææ–™
            const totalMaterials = Array(systemData.materials.length).fill(0);
            for (let level = currentLevel; level < targetLevel; level++) {
                const levelRequirements = requirements[level];
                for (let i = 0; i < levelRequirements.length; i++) {
                    totalMaterials[i] += levelRequirements[i];
                }
            }
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('fromLevel').textContent = currentLevel;
            document.getElementById('toLevel').textContent = targetLevel;
            document.getElementById('systemName').textContent = `${selectedCategory} - ${selectedSystem}`;
            document.getElementById('levelSpan').textContent = targetLevel - currentLevel;
            
            // ç”Ÿæˆææ–™åˆ—è¡¨
            const materialsList = document.getElementById('materialsList');
            materialsList.innerHTML = '';
            
            for (let i = 0; i < systemData.materials.length; i++) {
                const materialDiv = document.createElement('div');
                materialDiv.className = 'material-item';
                materialDiv.innerHTML = `
                    <span class="material-name">${systemData.materials[i]}</span>
                    <span class="material-amount">${totalMaterials[i]}</span>
                `;
                materialsList.appendChild(materialDiv);
            }
            
            document.getElementById('result').style.display = 'block';
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.onload = function() {
            initializeSystems();
            
            // æ·»åŠ äº‹ä»¶ç›‘å¬
            document.getElementById('systemCategory').addEventListener('change', function() {
                updateSystemOptions();
                updateSystemDetails();
            });
            
            document.getElementById('system').addEventListener('change', updateSystemDetails);
        };
    </script>
</body>
</html>
